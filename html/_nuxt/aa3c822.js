(window.webpackJsonp=window.webpackJsonp||[]).push([[54,51],{387:function(t,e,n){"use strict";n.r(e);var r=n(33),o=(n(84),{name:"TableContacts",props:{items:{type:Array,default:function(){return[]}}},data:function(){return{apiBaseUrl:"http://thiagopdias.eu1.alfasoft.pt",fields:[{key:"photo",label:"Avatar",sortable:!1},{key:"name",label:"Nome",sortable:!0},{key:"email",label:"E-mail",sortable:!0},{key:"contact",label:"Contact",sortable:!0},{key:"action",label:"Ações",sortable:!1}]}},mounted:function(){},methods:{deleteContact:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.delete("/contact/".concat(t));case 2:e.$emit("delete");case 3:case"end":return n.stop()}}),n)})))()}}}),c=n(68),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(photo)",fn:function(data){return[n("b-avatar",{attrs:{variant:"info",src:""+t.apiBaseUrl+data.item.photo}})]}},{key:"cell(contact)",fn:function(data){return[t._v("\n      "+t._s(t._f("VMask")(data.item.contact,"(##) ####-####"))+"\n    ")]}},{key:"cell(action)",fn:function(data){return[n("NuxtLink",{staticClass:"btn btn-warning m-1",attrs:{to:"/edit/"+data.item.id}},[t._v("\n        Edit\n      ")]),t._v(" "),n("NuxtLink",{staticClass:"btn btn-primary m-1",attrs:{to:"/show/"+data.item.id}},[t._v("\n        Show\n      ")]),t._v(" "),n("a",{staticClass:"btn btn-danger",on:{click:function(e){return e.preventDefault(),t.deleteContact(data.item.id)}}},[t._v("Delete")])]}}])})],1)}),[],!1,null,null,null);e.default=component.exports},391:function(t,e,n){"use strict";n.r(e);var r=n(33),o=(n(84),{name:"IndexPage",data:function(){return{contacts:[],perPage:3,currentPage:1,totalRow:0}},mounted:function(){this.getContacts()},methods:{getContacts:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("contact",{params:{per_page:t.perPage,page:t.currentPage}});case 2:n=e.sent,t.contacts=n.data.data,t.totalRow=n.data.total,t.currentPage=n.data.current_page;case 6:case"end":return e.stop()}}),e)})))()},changePage:function(t){this.currentPage=t,this.getContacts()}}}),c=n(68),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-content-center m-2"},[n("div",{staticClass:"col-lg-8 col-md-10 col-sm-12 card"},[n("div",{staticClass:"row m-1 justify-content-end"},[n("div",{staticClass:"col-lg-2 col-md-4 col-sm-6"},[n("NuxtLink",{staticClass:"btn btn-primary",attrs:{to:"/create"}},[t._v("\n        Create\n        ")])],1)]),t._v(" "),n("h3",[t._v("Lista de contato")]),t._v(" "),n("TableContacts",{attrs:{items:t.contacts},on:{"update:items":function(e){t.contacts=e},delete:t.getContacts}}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.totalRow,"per-page":t.perPage},on:{"update:totalRows":function(e){t.totalRow=e},"update:total-rows":function(e){t.totalRow=e},"update:perPage":function(e){t.perPage=e},"update:per-page":function(e){t.perPage=e},input:t.changePage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TableContacts:n(387).default})}}]);