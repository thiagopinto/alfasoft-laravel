(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{386:function(t,e,o){"use strict";o.r(e);o(5),o(4),o(2),o(6),o(7);var n=o(33),r=o(0),c=(o(84),o(23),o(1),o(3),o(126));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var d={name:"FormContact",components:{ValidationObserver:c.a,ValidationProvider:c.b},props:{contactProp:{type:Object,default:null}},data:function(){return{contact:{id:null,name:null,email:null,phone:null,photo:null}}},watch:{contactProp:function(t){void 0!==t.id&&(delete t.photo,this.contact=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},t))}},mounted:function(){},methods:{onSubmit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(o=new FormData).append("name",t.contact.name),o.append("email",t.contact.email),o.append("phone",t.contact.phone),o.append("photo",t.contact.photo),null==t.contact.id){e.next=12;break}return o.append("_method","patch"),e.next=10,t.$axios.post("/contact/".concat(t.contact.id),o,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data; boundary=".concat(o._boundary)},timeout:9999999});case 10:e.next=14;break;case 12:return e.next=14,t.$axios.post("/contact/",o,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data; boundary=".concat(o._boundary)},timeout:9999999});case 14:t.$toast.success("Created!"),t.$router.push("/"),e.next=21;break;case 18:for(n in e.prev=18,e.t0=e.catch(0),e.t0)e.t0[n].forEach((function(element){}));case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))()}}},f=d,m=o(68),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card"},[o("div",{staticClass:"card-body"},[o("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[o("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[o("h1",{staticClass:"h3 mb-3 fw-normal"},[t._v("Contact")]),t._v(" "),o("ValidationProvider",{attrs:{name:"Name",rules:"required|min:5",immediate:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[o("b-form-group",{attrs:{id:"input-group-name",label:"Name:","label-for":"input-name"}},[o("b-form-input",{attrs:{id:"input-name",type:"text",placeholder:"Name",required:""},model:{value:t.contact.name,callback:function(e){t.$set(t.contact,"name",e)},expression:"contact.name"}}),t._v(" "),t._l(n,(function(e,n){return o("div",{key:n,staticClass:"invalid-feedback d-block"},[t._v("\n              "+t._s(e)+"\n            ")])}))],2)]}}],null,!0)}),t._v(" "),o("ValidationProvider",{attrs:{name:"E-mail",rules:"required|email",immediate:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[o("b-form-group",{attrs:{id:"input-group-email",label:"Email:","label-for":"input-email"}},[o("b-form-input",{attrs:{id:"input-email",type:"email",placeholder:"E-mail",required:""},model:{value:t.contact.email,callback:function(e){t.$set(t.contact,"email",e)},expression:"contact.email"}}),t._v(" "),t._l(n,(function(e,n){return o("div",{key:n,staticClass:"invalid-feedback d-block"},[t._v("\n              "+t._s(e)+"\n            ")])}))],2)]}}],null,!0)}),t._v(" "),o("ValidationProvider",{attrs:{name:"Phone",rules:"required|length:9",immediate:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[o("b-form-group",{attrs:{id:"input-group-phone",label:"Phone:","label-for":"input-phone"}},[o("b-form-input",{attrs:{id:"input-phone",type:"text",placeholder:"Phone",required:""},model:{value:t.contact.phone,callback:function(e){t.$set(t.contact,"phone",e)},expression:"contact.phone"}}),t._v(" "),t._l(n,(function(e,n){return o("div",{key:n,staticClass:"invalid-feedback d-block"},[t._v("\n              "+t._s(e)+"\n            ")])}))],2)]}}],null,!0)}),t._v(" "),void 0===t.contact.id?o("ValidationProvider",{attrs:{name:"Photo",rules:"required",immediate:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[o("b-form-group",{attrs:{id:"input-group-photo",label:"Photo:","label-for":"input-photo"}},[o("b-form-file",{attrs:{state:Boolean(t.contact.photo),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.contact.photo,callback:function(e){t.$set(t.contact,"photo",e)},expression:"contact.photo"}}),t._v(" "),t._l(n,(function(e,n){return o("div",{key:n,staticClass:"invalid-feedback d-block"},[t._v("\n              "+t._s(e)+"\n            ")])}))],2)]}}],null,!0)}):t._e(),t._v(" "),void 0!==t.contact.id?o("b-form-group",{attrs:{id:"input-group-photo",label:"Photo:","label-for":"input-photo"}},[o("b-form-file",{attrs:{state:Boolean(t.contact.photo),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.contact.photo,callback:function(e){t.$set(t.contact,"photo",e)},expression:"contact.photo"}}),t._v(" "),t._l(t.errors,(function(e,n){return o("div",{key:n,staticClass:"invalid-feedback d-block"},[t._v("\n            "+t._s(e)+"\n          ")])}))],2):t._e(),t._v(" "),o("button",{staticClass:"w-100 btn btn-lg btn-primary",attrs:{type:"submit",disabled:n}},[t._v("\n          Save\n        ")])],1)]}}])})],1)])}),[],!1,null,null,null);e.default=component.exports}}]);